@import "tailwindcss";

@layer base {
  body {
    font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono",
      Menlo, Consolas, monospace;
  }
}

/* ── Status indicator LEDs ── */
.status-dot {
  @apply w-1.5 h-1.5 rounded-full flex-shrink-0;
}

.status-unknown {
  @apply bg-gray-700;
}

.status-online {
  @apply bg-emerald-400;
  box-shadow: 0 0 6px oklch(from var(--color-emerald-400) l c h / 60%);
}

.status-offline {
  @apply bg-red-400;
  box-shadow: 0 0 6px oklch(from var(--color-red-400) l c h / 40%);
}

/* ── Mode toggle active state ── */
.mode-active {
  @apply border-emerald-600/70 text-emerald-400 bg-emerald-950/40;
  box-shadow: inset 0 0 20px oklch(from var(--color-emerald-900) l c h / 20%);
}

/* ── Proving spinner ── */
.proving-spinner {
  @apply w-3 h-3 border border-emerald-500 border-t-transparent rounded-full flex-shrink-0;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ── Result card glow when filled ── */
.result-filled {
  @apply border-emerald-800/50;
}

.result-filled .text-gray-700 {
  @apply text-emerald-400;
}

/* ── Scan-line overlay (subtle CRT effect) ── */
.scanlines {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
}

/* ── Log scrollbar ── */
#log::-webkit-scrollbar {
  width: 4px;
}

#log::-webkit-scrollbar-track {
  background: transparent;
}

#log::-webkit-scrollbar-thumb {
  background: var(--color-gray-800);
  border-radius: 2px;
}

#log::-webkit-scrollbar-thumb:hover {
  background: var(--color-gray-700);
}

/* ── Log line colors ── */
.log-info {
  @apply text-gray-500;
}

.log-warn {
  @apply text-amber-500/80;
}

.log-error {
  @apply text-red-400/80;
}

.log-success {
  @apply text-emerald-500/80;
}

/* ── Step breakdown details/summary ── */
.result-filled details summary {
  list-style: none;
  cursor: pointer;
  @apply text-[10px] text-gray-500 uppercase tracking-wider;
}

.result-filled details summary::-webkit-details-marker {
  display: none;
}

.result-filled details summary::before {
  content: "\25B8 ";
}

.result-filled details[open] summary::before {
  content: "\25BE ";
}

/* ── Step rows with dot leaders ── */
.step-row {
  display: flex;
  align-items: baseline;
  gap: 4px;
  @apply text-[10px];
}

.step-dots {
  flex: 1;
  border-bottom: 1px dotted var(--color-gray-800);
  min-width: 8px;
  margin-bottom: 3px;
}

.step-sim {
  @apply pl-3 mt-0.5 space-y-px;
}

.step-sim-row {
  display: flex;
  align-items: baseline;
  gap: 4px;
  @apply text-[9px] text-gray-700;
}

.step-sim-row .step-dots {
  border-bottom-color: var(--color-gray-900);
}
